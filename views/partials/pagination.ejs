<% 
  var queryParams = [];
  if (typeof searchQuery !== 'undefined' && searchQuery) queryParams.push('q=' + encodeURIComponent(searchQuery));
  var queryPrefix = baseUrl.indexOf('?') !== -1 ? '&' : '?';
  var queryStr = queryParams.length ? queryPrefix + queryParams.join('&') : '';
%>
<% if (typeof pagination !== 'undefined' && pagination && pagination.totalPages > 1) { %>
  <nav class="pagination" aria-label="Pagination">
    <div class="pagination__info">Page <%= pagination.page %> of <%= pagination.totalPages %> (<%= pagination.totalCount %> total)</div>
    <div class="pagination__links">
      <% if (pagination.page > 1) { %>
        <a href="<%= baseUrl %><%= queryStr %><%= queryStr ? '&' : '?' %>page=<%= pagination.page - 1 %>" class="pagination__link pagination__link--prev">Previous</a>
      <% } %>
      <span class="pagination__current" aria-current="page"><%= pagination.page %></span>
      <% if (pagination.page < pagination.totalPages) { %>
        <a href="<%= baseUrl %><%= queryStr %><%= queryStr ? '&' : '?' %>page=<%= pagination.page + 1 %>" class="pagination__link pagination__link--next">Next</a>
      <% } %>
    </div>
  </nav>
<% } %>
